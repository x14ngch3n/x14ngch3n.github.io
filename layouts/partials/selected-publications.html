{{/*
Partial: selected-publications.html
Description: Displays selected publications from data/publications.yaml on the homepage.
*/}}

{{ $pubs := slice }}
{{ range $year, $list := .Site.Data.publications }}
{{ range $list }}
{{ if .selected }}
{{ $pubs = $pubs | append (dict "title" .title "authors" .authors "venue" .venue "venue_short" .venue_short "year" .year
"pdf" .pdf "code" .code) }}
{{ end }}
{{ end }}
{{ end }}

{{ if gt (len $pubs) 0 }}
<ul>
  {{ range $pubs }}
  <li class="publication-item">
    <div class="pub-title"><strong>{{ .title }}</strong>
      {{ if .pdf }}<a href="{{ .pdf }}" target="_blank" rel="noopener"><span data-feather='file-text'></span></a>{{ end }}
      {{ if .code }}<a href="{{ .code }}" target="_blank" rel="noopener"><span data-feather='github'></span></a>{{ end }}
      {{ if .slides }}<a href="{{ .slides }}" target="_blank" rel="noopener"><span data-feather='presentation'></span></a>{{ end }}
      {{ if .video }}<a href="{{ .video }}" target="_blank" rel="noopener"><span data-feather='video'></span></a>{{ end }}
      {{ if .arxiv }}<a href="{{ .arxiv }}" target="_blank" rel="noopener"><span data-feather='book'></span></a>{{ end }}
    </div>
    <div class="pub-authors">{{ .authors | replaceRE "Xiang Chen" "<strong>Xiang Chen</strong>" | safeHTML }}</div>
    <div class="pub-venue">{{ .venue }} {{ if .venue_short }} (<strong>{{ .venue_short }}</strong>){{ end }}</div>
  </li>
  {{ end }}
</ul>
{{ end }}